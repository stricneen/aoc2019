module Day19

open Utils
open IntCode2

let day19 = 
    print "Advent of code - Day 19 - Tractor Beam"

    let prog = readCSV "./data/day19.txt" 

    let comp = IntCode2("beam")
    let inq = comp.Initialise prog


    for x in 0L .. 49L do
        for y in 0L .. 49L do
            inq.Post(x)
            inq.Post(y)

    let mutable counter = 0L
    let mutable finished = false

    comp.OutputReady.Add(fun output ->

        counter <- counter + output
        printf "%A   %A" output counter
    )    
    
    
    
    while not finished do
        async {
            do! Async.Sleep(100) } |> ignore


    0